<header>
  <app-global-header title="Transaction History"></app-global-header>
</header>

<div class="personal-container">
  <div class="top-bar">
    <input 
      type="text" 
      class="search-bar" 
      placeholder="Search stocks..." 
      [(ngModel)]="searchTerm" 
      (input)="filterStocks()" 
    />
  </div>

  <div class="transactions-box">
    <table class="transaction-table">
      <thead>
        <tr>
          <th (click)="sortData('id')">TRAN ID <span [class]="getSortClass('id')"></span></th>
          <th (click)="sortData('stock.name')">STOCK <span [class]="getSortClass('stock.name')"></span></th>
          <th (click)="sortData('date')">DATE <span [class]="getSortClass('date')"></span></th>
          <th (click)="sortData('valueAtDate')">VALUE_AT_Date <span [class]="getSortClass('valueAtDate')"></span></th>
          <th (click)="sortData('valueChangePercent')">value_change% <span [class]="getSortClass('valueChangePercent')"></span></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let t of filteredTransactions">
          <td>{{ t.id }}</td>
          <td>{{ t.stock.name }}</td>
          <td>{{ t.date | date:'yyyy-MM-dd HH:mm' }}</td>
          <td>{{ t.valueAtDate | number:'1.2-2' }}</td>
          <td>{{ t.valueChangePercent | number:'1.2-2' }}%</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<app-global-footer></app-global-footer>

