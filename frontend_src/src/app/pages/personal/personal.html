<app-global-header title="Personal Dashboard"></app-global-header>

<div class="stock-container">
  <!-- Top Navigation -->
  <div class="nav-bar">
    <h1>{{ stockName }}</h1>
  </div>

  <!-- Company Info Section -->
  <div class="company-info">
    <ul>

      <li *ngIf="stock">
        {{ stock.name }}; {{ stock.id }}; ${{ stock.price | number:'1.2-2' }};
        {{ stock.valueChangePercent24h !== undefined ? (stock.valueChangePercent24h | number:'1.2-2') + '%' : 'N/A' }}
      </li>

      <li>Current Price: Â£{{ currentPrice }}; Change from open: {{percentChange | number:'1.2-2' }}%</li> <!-- Example: Apple; AAPL; $150; +2.5% -->

    </ul>
  </div>

  <!-- Main Content Area -->
  <div class="content-grid">
    <!-- Graph Area -->
    <div class="graph-box">
      <div class="graph">
        <h2>{{ stockName }} Price Graph</h2>
        <canvas id="stockGraph"></canvas>
      </div>
      <div class="graph-timescale">
        <button>All Time</button>
        <button>5Y</button>
        <button>1Y</button>
        <button>1M</button>
        <button>1W</button>
        <button>1 Day</button>
        <button>12 H</button>
        <button>1 H</button>
      </div>
    </div>

    <!-- Info Panel + Buy/Sell -->
    <div class="info-panel">
      <div class="stock-info">
        <p>Amount of stocks</p>
        <p>Current value</p>
        <p>Transaction dates?</p>
        <p>value change?</p>
      </div>

      <div class="buy-sell">
        <div class="action-buttons">
          <button class="sell">Sell</button>
          <input
            type="number"
            min="1"
            [(ngModel)]="buyAmount"
            placeholder="Amount"
          />
          <button class="buy">Buy</button>
        </div>
        <button class="total-button" disabled>
          Total: {{ totalPrice | number:'1.2-2' }}
        </button>
      </div>
    </div>
  </div>
</div>
<app-global-footer></app-global-footer>
